{% extends "layout.html" %}

{% block content %}
    <div class="home_stream">
        <h2>Latest Ratings</h2>
        
        {% for rating in latest_ratings %}
            <div class="stream_rating_card">
                <div>
                    <img src="{{ rating.user.avatar(50) }}" alt="user avatar" class="stream_avatar">
                    <p>
                        {{ rating.user.username }} is smoking a {{rating.cigar.cigar_name}} by {{rating.cigar.brand}} 
                        {% if rating.location != 'None' %} 
                            at {{ rating.get_name(rating.location) }} 
                        {% endif %}
                    </p>
                </div>
                <div class="comment_rating">
                    <p class="comment">{{ rating.comment }}</p>
                    <div class="rating_size">
                        <p>Rating:<span class="stars" data-rating="{{ rating.rating }}" data-num-stars="5" ></span></p>
                        <p>Size: {{ rating.size }}</p>
                    </div>
                </div>
                <div>    <!-- Will be used to add comments in future-->
                    <button>Comment</button>
                    <button>Like</button>
                </div>
            </div>
        {% endfor %}
    </div>

{% endblock %}

{% block user_info %}
    
    <div class="user_info">
        
        <img src="{{current_user.avatar(100)}}" alt="user profile picture" class="user_card_avatar" />
        
        <div class="user_name">
            <h2>{{ current_user.first_name }} {{ current_user.last_name }}</h2>
            <p>&commat; {{ current_user.username }}</p>
        </div>  
    </div>
    <div class="user_numbers">
        <div>
            <h3>{{current_user.total_cigar_rating()}}</h3>
            <p>Total</p> 
        </div> 
        <div>
            <h3>{{current_user.unique_cigar_rating()}}</h3>
            <p>Unique</p>
        </div>
        <div>
            <h3>[PH]</h3>
            <p>Friends</p>
        </div>
    </div>
    

{% endblock %}

{% block top_cigars %}
    <h1>Top Cigars</h1>
        {% for cigar in top_cigars %}
            {{ cigar.cigar_name}}
        {% endfor %}
{% endblock %}

